<!-- shop/templates/shop/product_list.html -->

{% extends "base.html" %}
{% load static %}

{% block title %}
    {% if current_category %}
        {{ current_category.name }}
    {% else %}
        {{ site_settings.catalog_title|default:'Каталог товаров' }}
    {% endif %} - {{ site_settings.shop_name }}
{% endblock %}

{% block content %}
    <!-- ИСПРАВЛЕНИЕ: Используем класс custom-catalog-title для применения настроек из админки -->
    <h1 class="responsive-title custom-catalog-title" style="margin-bottom: 20px;">
        {% if current_category %}
            {{ current_category.name }}
        {% else %}
            {{ site_settings.catalog_title|default:'Наш каталог цветов' }}
        {% endif %}
    </h1>

    <div class="product-grid">
        {% for product in products %}
            {% include "shop/includes/product_card.html" with product=product %}
        {% empty %}
            <p style="grid-column: 1 / -1;">В данный момент в этой категории нет товаров.</p>
        {% endfor %}
    </div>
{% endblock %}
<!-- users/templates/users/register.html -->
{% extends "base.html" %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="container" style="max-width: 500px; margin: 2rem auto;">
    <h2>Регистрация нового пользователя</h2>
    <p>Создайте аккаунт, чтобы отслеживать свои заказы.</p>

    <form method="post" class="user-form">
        {% csrf_token %}

        <!-- Выводим ошибки, не связанные с конкретными полями (например, "пароли не совпадают") -->
        {% if form.non_field_errors %}
            <div class="alert-danger">{{ form.non_field_errors }}</div>
        {% endif %}

        <!-- Отрисовываем каждое поле вручную -->
        <div class.form-group>
            {{ form.first_name.label_tag }}
            {{ form.first_name }}
            {{ form.first_name.errors }}
        </div>
        <div class.form-group>
            {{ form.last_name.label_tag }}
            {{ form.last_name }}
            {{ form.last_name.errors }}
        </div>
        <div class.form-group>
            {{ form.email.label_tag }}
            {{ form.email }}
            {{ form.email.errors }}
        </div>
        <div class.form-group>
            {{ form.password1.label_tag }}
            {{ form.password1 }}
            {{ form.password1.errors }}
        </div>
        <div class.form-group>
            {{ form.password2.label_tag }}
            {{ form.password2 }}
            {{ form.password2.errors }}
        </div>

        <button type="submit" class="btn-submit">Создать аккаунт</button>
    </form>
    <p style="margin-top: 15px;">Уже есть аккаунт? <a href="{% url 'login' %}">Войдите!</a></p>
</div>

<style>
    .user-form .form-group { margin-bottom: 15px; }
    .user-form label { display: block; margin-bottom: 5px; font-weight: bold; }
    .form-control { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    .btn-submit { background-color: #007bff; color: white; padding: 15px 25px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; margin-top: 10px; }
    .alert-danger { color: red; margin-bottom: 10px; }
</style>
{% endblock %}
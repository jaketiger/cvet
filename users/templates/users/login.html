<!-- users/templates/users/login.html -->
{% extends "base.html" %}

{% block title %}–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç{% endblock %}

{% block content %}
<div class="login-page-wrapper">

    <div class="login-card fade-in">
        <h1 class="login-title">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h1>
        <p class="login-subtitle">–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞!</p>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <form method="post" class="modern-form">
            {% csrf_token %}

            <!-- –ë–ª–æ–∫ –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π) -->
            {% if form.non_field_errors %}
                <div class="error-alert">
                    {% for error in form.non_field_errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- –ü–æ–ª–µ: –õ–æ–≥–∏–Ω (Email/–¢–µ–ª–µ—Ñ–æ–Ω) -->
            <div class="input-group-modern">
                <label for="{{ form.username.id_for_label }}">Email –∏–ª–∏ –¢–µ–ª–µ—Ñ–æ–Ω</label>
                <div class="input-wrapper">
                    <span class="input-icon">üë§</span>
                    {{ form.username }}
                </div>
                {% if form.username.errors %}
                    <div class="field-error">{{ form.username.errors }}</div>
                {% endif %}
            </div>

            <!-- –ü–æ–ª–µ: –ü–∞—Ä–æ–ª—å -->
            <div class="input-group-modern">
                <label for="{{ form.password.id_for_label }}">–ü–∞—Ä–æ–ª—å</label>
                <div class="input-wrapper">
                    <span class="input-icon">üîí</span>
                    {{ form.password }}
                </div>
                {% if form.password.errors %}
                    <div class="field-error">{{ form.password.errors }}</div>
                {% endif %}
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–π—Ç–∏ -->
            <button type="submit" class="btn btn-primary btn-block login-btn">
                –í–æ–π—Ç–∏
            </button>

            <!-- –°—Å—ã–ª–∫–∏ (–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è) -->
            <div class="form-footer">
                <p>
                    <a href="{% url 'password_reset' %}" class="footer-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                </p>
                <hr class="divider">
                <p>
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?
                    <a href="{% url 'users:register' %}" class="footer-link register-link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>
                </p>
            </div>
        </form>
    </div>
</div>

<!-- ================== –°–¢–ò–õ–ò CSS ================== -->
<style>
    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .fade-in { animation: fadeInUp 0.5s ease-out forwards; }

    /* –û–±–µ—Ä—Ç–∫–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
    .login-page-wrapper {
        display: flex; justify-content: center; align-items: center;
        min-height: 70vh; padding: 40px 20px;
        background-color: #f9f9f9;
        font-family: var(--default-font-family, sans-serif);
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ */
    .login-card {
        width: 100%; max-width: 420px;
        background: #fff; padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        text-align: center;
    }

    .login-title { font-size: 2rem; margin: 0 0 10px 0; color: #333; font-weight: 700; }
    .login-subtitle { color: #888; margin-bottom: 30px; font-size: 1.1rem; }

    /* –§–æ—Ä–º–∞ */
    .modern-form { text-align: left; }

    .input-group-modern { margin-bottom: 20px; }
    .input-group-modern label { display: block; font-weight: 600; font-size: 0.95rem; margin-bottom: 8px; color: #555; }

    .input-wrapper { position: relative; }
    .input-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); opacity: 0.5; font-size: 1.2rem; }

    /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ (–∫–∞–∫ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏) */
    .modern-form input {
        width: 100%; padding: 12px 15px 12px 45px; /* –û—Ç—Å—Ç—É–ø –ø–æ–¥ –∏–∫–æ–Ω–∫—É */
        border: 1px solid #ddd; border-radius: 10px;
        font-size: 1rem; transition: 0.2s; box-sizing: border-box;
        background: #fcfcfc;
    }
    .modern-form input:focus {
        border-color: var(--accent-color, #e53935);
        background: #fff;
        outline: none;
        box-shadow: 0 0 0 3px rgba(229, 57, 53, 0.1);
    }

    .error-alert { background: #ffebee; color: #c62828; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem; text-align: center; }
    .field-error { color: #dc3545; font-size: 0.85rem; margin-top: 5px; }

    /* –ö–Ω–æ–ø–∫–∞ */
    .login-btn {
        margin-top: 10px; padding: 14px; font-size: 1.1rem;
        border-radius: 10px; width: 100%;
        /* –¶–≤–µ—Ç–∞ –±–µ—Ä—É—Ç—Å—è –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ btn-primary (–∏–∑ base.html) */
    }

    /* --- –ü–û–î–í–ê–õ –ò –°–°–´–õ–ö–ò (–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï) --- */
    .form-footer { margin-top: 30px; text-align: center; font-size: 0.95rem; color: #666; }
    .divider { border: 0; border-top: 1px solid #eee; margin: 15px 0; }

    .footer-link {
        color: #555; /* –¶–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s ease, text-decoration 0.2s ease;
        border-bottom: 1px solid transparent; /* –î–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è */
    }

    /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç) */
    .footer-link:hover {
        color: var(--accent-color, #e53935);
        border-bottom-color: var(--accent-color, #e53935);
    }

    /* –°—Å—ã–ª–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á—É—Ç—å –∂–∏—Ä–Ω–µ–µ */
    .register-link { font-weight: 600; }
</style>
{% endblock %}